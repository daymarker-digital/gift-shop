{% comment %}
  Renders a product grid card

  Accepts:
  - card_product: {Object} Product object

  Usage:
  {%-
    render 'card-product-grid',
      card_index: 1,
      card_product: block.settings.product
  -%}
{% endcomment %}

{%- liquid

  assign snippet_name = 'card-product-placeholder'
  assign snippet_classes = card_classes | default: snippet_name

  assign card_id = card_id | default: snippet_name
  assign card_index = card_index | default: 1

-%}

<article class="{{ snippet_classes }}" id="{{ card_id }}" data-index="{{ card_index }}"">
  <!-- Inject Random Image Here with JavaScript... -->
</article>

<script>
  var images = Theme?.images?.placeholder?.product_images || [];
  var randomImage = images[Math.floor(Math.random() * images.length)];
  var element = document.getElementById(`{{ card_id }}`) || false;
  if ( element && randomImage ) element.innerHTML = randomImage;
</script>
