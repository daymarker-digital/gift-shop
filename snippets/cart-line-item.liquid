{%- if cart_line_item and cart_line_item != blank %}

  {% comment %}
    Renders a product grid card

    Accepts:
    - cart_line_item: {Object} Cart line item object
    - cart_line_item_classes: {String} Optionally include custom classes
    - cart_line_item_index: {String} Index of current cart line item

    Usage:
    {%-
      render 'cart-line-item',
        cart_line_item: item,
        cart_line_item_classes: 'some-great class-here custom',
        cart_line_item_index: '1'
    -%}
  {% endcomment %}

  {%- liquid

    assign snippet_name = 'cart-line-item'
    assign snippet_classes = cart_line_item_classes | default: snippet_name
    assign snippet_id = snippet_name | append: '--' | append: cart_line_item_index

    assign aos_delay = 250
    assign aos_delay_increment = 250
    assign aos_id = snippet_id

    assign cart_line_item_image = cart_line_item.image | default: false
    assign cart_line_item_key = cart_line_item.key | default: false
    assign cart_line_item_original_line_price = cart_line_item.original_line_price
    assign cart_line_item_product_title = cart_line_item.product.title | default: ''
    assign cart_line_item_type = cart_line_item.product.type | default: ''
    assign cart_line_item_url = cart_line_item.url | default: ''
    assign cart_line_item_url_to_remove = cart_line_item.url_to_remove | default: ''

  -%}

  <div class="{{ snippet_classes }}" id="{{ snippet_id }}" data-key="{{ cart_line_item_key }}">

    <div class="{{ snippet_name }}__image">
          <a class="{{ snippet_name }}__image-link link" href="{{ snippet_url }}" title="{{ snippet_title }}" target="_self">
            {% render 'lazyload-image', classes: 'card-product__image-01', image: snippet_images[0] %}
            {% render 'lazyload-image', classes: 'card-product__image-02', image: snippet_images[1] %}
            {% unless snippet_available %}
              {%- liquid
                capture aos_attrs
                  render 'aos-attributes', anchor: aos_id, delay: aos_delay, transition: 'fade-up'
                endcapture
                assign aos_delay = aos_delay | plus: aos_delay_increment
              -%}
              {%- render 'banner', banner_aos: aos_attrs, banner_colour: 'red', banner_title: 'Sold Out! (Sorry)' -%}
            {%- endunless -%}
          </a>
        </div>

    <div class="{{ snippet_name }}__content">
          {%- liquid
            capture aos_attrs
              render 'aos-attributes', anchor: aos_id, delay: aos_delay, transition: 'fade-left'
            endcapture
            assign aos_delay = aos_delay | plus: aos_delay_increment
          -%}
          <strong class="{{ snippet_name }}__title" {{ aos_attrs }}>
            {%- capture snippet_classes %}{{ snippet_name }}__title-link link{%- endcapture -%}
            {%- render 'link', link_classes: snippet_classes, link_title: snippet_title, link_url: snippet_url -%}
          </strong>
        </div>

  </div>

{%- endif -%}
