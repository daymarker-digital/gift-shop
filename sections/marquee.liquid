{%- liquid

  assign section_name = 'marquee'
  assign section_classes = section_name
  assign section_id = section_name | append: '--' | append: section.id

  assign aos_delay = 250
  assign aos_delay_increment = 250
  assign aos_id = section_id

  assign section_container = section.settings.container | default: 'container'
  assign section_marquee_direction = section.settings.marquee_direction | default: ''
  assign section_marquee_duration = section.settings.marquee_duration | default: 1000
  assign section_marquee_gap = section.settings.marquee_gap | default: 0
  assign section_marquee_blocks = section.blocks | where: 'type', 'marquee' | default: false
  assign section_marquee_range = (1..10)
  assign section_marquee_size = section.settings.marquee_size | default: ''
  assign section_marquee_style = section.settings.marquee_style | default: ''

  assign section_classes = section_classes | append: " " | append: section_name | append: "--" | append: marquee_direction
  assign section_classes = section_classes | append: " " | append: section_name | append: "--" | append: marquee_style
  assign section_classes = section_classes | append: " " | append: section_name | append: "--" | append: marquee_size

  capture aos_attrs
    render 'aos-attributes', anchor: aos_id, delay: aos_delay, transition: 'fade-left'
  endcapture
  assign aos_delay = aos_delay | plus: aos_delay_increment

-%}

{%- style -%}

  #{{ section_id }} {
    --marquee-duration: {{ section_marquee_direction }}s;
    --marquee-gap: {{ section_marquee_gap }}px;
  }

  @media screen and (min-width: 992px) {}

{%- endstyle -%}

<div class="{{ section_classes }}" id="{{ section_id }}">
  <div class="{{ section_name }}__layout">
    <div class="{{ section_name }}__main" {{ aos_attrs }}>
      {%- if section_marquee_blocks.size > 0 -%}
        <div class="{{ section_name }}__group">
          {%- for i in section_marquee_range -%}
            {%- if 1 == i -%}
              {%- render 'marquee-items', hidden: false, marquee_items: section_marquee_blocks -%}
            {%- else -%}
              {%- render 'marquee-items', hidden: true, marquee_items: section_marquee_blocks -%}
            {%- endif -%}
          {%- endfor -%}
        </div>
        <div class="{{ section_name }}__group" aria-hidden="true">
          {%- for i in section_marquee_range -%}
            {%- render 'marquee-items', hidden: false, marquee_items: section_marquee_blocks -%}
          {%- endfor -%}
        </div>
      {%- endif -%}
    </div>
  </div>
</div>
