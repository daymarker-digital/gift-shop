@use 'sass:map';
@use '../utils/variables' as *;
@use '../utils/mixins/breakpoint' as *;
@use '../utils/mixins/font' as *;


.push-menu {

  @each $name, $value in map.get( $theme-layout-settings, 'breakpoints' ) {
    @if $name == 'base' {
      width: var(--theme-push-menu-width);
    } @else {
      @include breakpoint(#{$name}) {
        width: var(--theme-push-menu-width--#{$name});
      }
    }
  }

  @include font-akkurate-mono();
  transition:
    transform var(--theme-transition--duration),
    width var(--theme-transition--duration);
  transform: translate3d( 100%, 0, 0);
  background: var(--theme-colour--black);
  color: var(--theme-colour--white);
  position: fixed;
  top: 0;
  right: 0;
  height: 100%;
  z-index: 150;

  .navigation {
    display: inline-grid;
    &__item,
    &__link {
      line-height: 1;
    }
    &__link {
      color: var(--theme-colour--yellow);
      &.active,
      &:hover {
        color: var(--theme-colour--white);
      }
    }
  }

  &__footer,
  &__main {
    padding: 30px;
  }

  &__container {
    display: flex;
    flex-direction: column;
    height: 100%;
  }

  &__footer {
    flex-shrink: 0;
    display: flex;
    width: 100%;
    flex-flow: row wrap;
    &-cart-summary {
      @include font-sorry-sans();
      margin-bottom: 20px;
      &-link {
        font-family: var(--theme-font-family--sans-serif--sorry-sans);
        color: var(--theme-colour--white);
        font-size: calc(var(--push-menu-main-link-size ) * 0.8);
        &:hover {
          color: var(--theme-colour--yellow);
        }
      }
    }
    &-navigation {
      grid-template-columns: repeat(2, 140px);
      row-gap: 12px;
      width: 100%;
      text-transform: uppercase;
    }
    &-social {
      display: inline-flex;
      width: 100%;
      justify-content: flex-start;
      align-items: center;
      column-gap: 20px;
      &-item {
        height: 18px;
        width: 18px;
      }
      &-link {
        color: var(--theme-colour--yellow);
        height: 100%;
        width: 100%;
        &:hover {
          color: var(--theme-colour--white);
        }
      }
      & + .push-menu__footer-navigation {
        margin-top: 25px;
      }
    }
  }

  &__main {
    flex: 1 0 auto;
    padding-bottom: 0;
    &-message {
      margin-top: 30px;
      width: 100%;
      max-width: 400px;
    }
    &-navigation {
      @include font-sorry-sans();
      grid-template-columns: repeat(1, 1fr);
      width: 100%;
      row-gap: 12px;
      &-link {
        @each $name, $value in map.get( $theme-layout-settings, 'breakpoints' ) {
          @if $name == 'base' {
            font-size: var(--theme-push-menu-link-font-size);
          } @else {
            @include breakpoint(#{$name}) {
              font-size: var(--theme-push-menu-link-font-size--#{$name});
            }
          }
        }
      }
    }
  }

  .push-menu--active & {
    transform: translate3d( 0, 0, 0 );
  }

  @include breakpoint(sm) {

    width: var(--theme-push-menu-width--sm);

    &__footer {
      &-links {
        justify-content: space-between;
        align-items: flex-end;
        flex-flow: row nowrap;
      }
      &-navigation {
        order: 1;
        .navigation {
          &__link {
            font-size: calc(var(--theme-font-size-body-copy--sm) * 0.8);
          }
        }
      }
      &-social {
        margin-bottom: 0;
        order: 2;
        justify-content: flex-end;
        &-item {
          width: 20px;
          height: 20px;
        }
      }
    }

    &__menus-extra {
      order: 1;
    }

  }

  @include breakpoint(md) {

    width: var(--theme-push-menu-width--md);

    &__footer {
      &-cart-summary {
        &-link {
          font-size: calc(var(--push-menu-main-link-size--md ) * 0.8);
        }
      }
      &-navigation {
        grid-template-columns: repeat(2, 135px);
        .navigation {
          &__link {
            font-size: calc(var(--theme-font-size-body-copy--md) * 0.8);
          }
        }
      }
    }

    &__main {
      &-navigation {
        .navigation {
          &__link {
            font-size: var(--push-menu-main-link-size--md);
          }
        }
      }
    }

    &__message {
      width: 69%;
    }

  }

  @include breakpoint(lg) {

    width: var(--theme-push-menu-width--lg);
    transform: translate3d(100%, 0, 0);

    &__footer {
      &-cart-summary {
        &-link {
          font-size: calc(var(--push-menu-main-link-size--lg ) * 0.8);
        }
      }
      &-navigation {
        grid-template-columns: repeat(2, 160px);
        .navigation {
          &__link {
            font-size: calc(var(--theme-font-size-body-copy--lg) * 0.8);
          }
        }
      }
    }

    &__main {
      &-navigation {
        .navigation {
          &__link {
            font-size: var(--push-menu-main-link-size--lg);
          }
        }
      }
    }

    &__message {
      width: 80%;
    }

  }

  @include breakpoint(xl) {

    width: var(--theme-push-menu-width--xl);

    &__footer {
      &-cart-summary {
        &-link {
          font-size: calc(var(--push-menu-main-link-size--xl ) * 0.8);
        }
      }
      &-navigation {
        grid-template-columns: repeat(2, 170px);
        .navigation {
          &__link {
            font-size: calc(var(--theme-font-size-body-copy--xl) * 0.8);
          }
        }
      }
    }

    &__main {
      &-navigation {
        .navigation {
          &__link {
            font-size: var(--push-menu-main-link-size--xl);
          }
        }
      }
    }

  }

  @include breakpoint(xxl) {

    width: var(--theme-push-menu-width--xxl);

    &__footer {
      &-cart-summary {
        &-link {
          font-size: calc(var(--push-menu-main-link-size--xxl ) * 0.8);
        }
      }
      &-navigation {
        grid-template-columns: repeat(2, 180px);
        .navigation {
          &__link {
            font-size: calc(var(--theme-font-size-body-copy--xxl) * 0.8);
          }
        }
      }
    }

    &__main {
      &-navigation {
        .navigation {
          &__link {
            font-size: var(--push-menu-main-link-size--xxl);
          }
        }
      }
    }

  }

}
